<div class="outer">
  <div class="list">
    <p>List View</p>
    <div class="filter">
      <label for="invoicePeriodFilter">Invoice Period:</label>
      <select id="invoicePeriodFilter" [(ngModel)]="selectedInvoicePeriod" (change)="applyFilter()">
        <option value="">All</option>
        <option value="Weekly">Weekly</option>
        <option value="Fortnight">Fortnight</option>
        <option value="Monthly">Monthly</option>
        <option value="Half-yearly">Half-yearly</option>
        <option value="Yearly">Yearly</option>
      </select>
    </div>
  </div>

  <!-- Table  -->
  <p-table [value]="filteredProducts" styleClass="p-datatable-gridlines" [tableStyle]="{ 'min-width': '30rem' }"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[5, 10]"
    [paginator]="true" [rows]="5" [showCurrentPageReport]="true" [globalFilterFields]="['active']">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="productName">Product Name<p-sortIcon field="productName"></p-sortIcon></th>
        <th pSortableColumn="country">Country <p-sortIcon field="country"></p-sortIcon></th>
        <th pSortableColumn="invoicePeriod">Invoice Period <p-sortIcon field="invoicePeriod"></p-sortIcon></th>
        <th pSortableColumn="scrapType">Scrap Type<p-sortIcon field="scrapType"></p-sortIcon></th>
        <th pSortableColumn="manCost">Man Cost(USD)<p-sortIcon field="manCost"></p-sortIcon></th>
        <th pSortableColumn="materialCost">Material Cost(USD)<p-sortIcon field="materialCost"></p-sortIcon></th>
        <th pSortableColumn="estimateCost">Estimate Cost(USD)<p-sortIcon field="estimateCost"></p-sortIcon></th>
        <th pSortableColumn="localAmount">Local Amount<p-sortIcon field="localAmount"></p-sortIcon></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.productName }}</td>
        <td>{{ product.country }}</td>
        <td>{{ product.invoicePeriod }}</td>
        <td>{{ product.scrapType }}</td>
        <td>{{ product.manCost }}</td>
        <td>{{ product.materialCost }}</td>
        <td>{{ product.estimateCost }}</td>
        <td>{{ product.localAmount }}</td>
      </tr>   
    </ng-template>
<!-- HTML -->
<ng-template pTemplate="footer">
  <tr>
      <td colspan="8">
          <p-button (click)="showDialog()" label="Generate Invoice"></p-button>
      </td>
      <td> 
          <p-dialog header="Enter the required Details" [(visible)]="visible" [style]="{width: '50vw'}" [modal]="true">
              <!-- <app-invoice-details></app-invoice-details> -->
              <div class="invoice-fields">
                <div class="form-group">
                    <label for="invoiceNumber">Invoice Number</label>
                    <input class="input1" type="text" id="invoiceNumber" />
                </div>
                <div class="form-group">
                    <label for="departmentID">Department ID</label>
                    <input class="input2" type="text" id="departmentID" />
                </div>
                <div class="form-group">
                    <label for="departmentName">Department Name</label>
                    <input class="input3" type="text" id="departmentName" />
                </div>
                <div class="form-group">
                  
                  <!-- <input class="input4" type="text" id="totalAmount" [(ngModel)]="totalAmount" readonly /> -->
                  <div>Total Amount: {{ totalAmount }}</div>
                </div>
              </div>
                <button mat-raised-button color="primary" (click)="generateInvoice1()">Submit Invoice</button>  
          </p-dialog>
      </td>
  </tr>
</ng-template>

  </p-table>
  <!-- Table Ends -->
</div>
